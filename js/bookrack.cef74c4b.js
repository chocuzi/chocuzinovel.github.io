(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bookrack"],{"81f3":function(t,o,n){"use strict";n("9a2f")},"8b90":function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",t._l(t.books,(function(o,e){return n("van-swipe-cell",{key:o._id},[n("van-card",{staticClass:"goods-card",attrs:{desc:"阅读到第"+(o.currentOrder||1)+"章",title:o.title,disabled:!0,thumb:decodeURIComponent(o.cover.slice(7)||o.cover)},on:{click:function(n){return t.readBook(o._id)}},scopedSlots:t._u([t.isShowCtrl?{key:"num",fn:function(){return[n("input",{attrs:{type:"checkbox"},on:{change:function(o){return t.handler(e)}}})]},proxy:!0}:null],null,!0)})],1)})),1)},r=[],a=(n("d81d"),{props:["books","isShowCtrl"],data:function(){return{arr:[]}},created:function(){this.arr=this.books.map((function(){return!1}))},methods:{handler:function(t){this.arr[t]=!this.arr[t],this.$emit("arr-trans",this.arr)},readBook:function(t){var o=this;this.isShowCtrl||(console.log(1),this.axios.get("http://novel.kele8.cn/book-info/"+t).then((function(t){o.$store.commit("updateBookDetailData",t.data)})),this.axios.get("http://novel.kele8.cn/book-sources?view=summary&book="+t).then((function(n){o.axios.get("http://novel.kele8.cn/book-chapters/"+n.data[0]._id).then((function(n){o.$router.push("/book/"+t),o.$store.commit("updateChapter",n.data)}))})))}}}),s=a,i=(n("df00"),n("2877")),c=Object(i["a"])(s,e,r,!1,null,null,null);o["a"]=c.exports},"9a2f":function(t,o,n){},c945:function(t,o,n){},d81d:function(t,o,n){"use strict";var e=n("23e7"),r=n("b727").map,a=n("1dde"),s=n("ae40"),i=a("map"),c=s("map");e({target:"Array",proto:!0,forced:!i||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},df00:function(t,o,n){"use strict";n("c945")},dff1:function(t,o,n){"use strict";n.r(o);var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"bookrack"},[n("HomeHeader",{attrs:{myBook:t.myBook,isGoHome:t.isGoHome}},[t._v(" "+t._s(t.goback))]),n("van-tabs",{model:{value:t.currentIndex,callback:function(o){t.currentIndex=o},expression:"currentIndex"}},[n("van-tab",{attrs:{title:"我的书架",to:"/bookrack","title-class":"before-line","title-style":"margin:10px 0;border-right: 1px solid #ccc;"}}),n("van-tab",{attrs:{title:"阅读记录",to:"/bookHistory"}})],1),n("div",{staticClass:"bookrack-top"},[n("span",[t._v("共"+t._s(t.books.length||0)+"本")]),t.isShowCtrl?n("div",[n("span",{on:{click:function(o){o.stopPropagation(),t.isShowCtrl=!1}}},[t._v("取消")]),n("span",{staticStyle:{padding:"0 5px"}}),n("span",{on:{click:function(o){return o.stopPropagation(),t.filterBook(o)}}},[t._v("删除")])]):n("span",{on:{click:function(o){o.stopPropagation(),t.isShowCtrl=!0}}},[t._v("编辑")])]),t.books?n("BookrackItem",{attrs:{books:t.books,isShowCtrl:t.isShowCtrl},on:{"arr-trans":t.handler}}):t._e()],1)},r=[],a=(n("4de4"),n("d81d"),n("a6ab")),s=n("8b90"),i={data:function(){return{goback:"⮜ 返回",myBook:"我的书架",currentIndex:0,books:[],isShowCtrl:!1,arr:[],checked:!1,isGoHome:!0}},components:{HomeHeader:a["a"],BookrackItem:s["a"]},created:function(){this.books=JSON.parse(window.localStorage.getItem("books"))||[]},computed:{},methods:{handler:function(t){this.arr=t},filterBook:function(){var t=this;this.isShowCtrl=!1,this.books=this.books.filter((function(o,n){if(!t.arr[n])return o})),window.localStorage.setItem("books",JSON.stringify(this.books)),this.arr=this.books.map((function(){return!1}))}}},c=i,l=(n("81f3"),n("2877")),u=Object(l["a"])(c,e,r,!1,null,null,null);o["default"]=u.exports}}]);
//# sourceMappingURL=bookrack.cef74c4b.js.map