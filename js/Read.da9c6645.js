(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Read"],{1276:function(t,e,r){"use strict";var o=r("d784"),a=r("44e7"),n=r("825a"),i=r("1d80"),c=r("4840"),s=r("8aa5"),l=r("50c4"),u=r("14c3"),p=r("9263"),d=r("d039"),h=[].push,f=Math.min,g=4294967295,v=!d((function(){return!RegExp(g,"y")}));o("split",2,(function(t,e,r){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var o=String(i(this)),n=void 0===r?g:r>>>0;if(0===n)return[];if(void 0===t)return[o];if(!a(t))return e.call(o,t,n);var c,s,l,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=new RegExp(t.source,d+"g");while(c=p.call(v,o)){if(s=v.lastIndex,s>f&&(u.push(o.slice(f,c.index)),c.length>1&&c.index<o.length&&h.apply(u,c.slice(1)),l=c[0].length,f=s,u.length>=n))break;v.lastIndex===c.index&&v.lastIndex++}return f===o.length?!l&&v.test("")||u.push(""):u.push(o.slice(f)),u.length>n?u.slice(0,n):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var a=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a,r):o.call(String(a),e,r)},function(t,a){var i=r(o,t,this,a,o!==e);if(i.done)return i.value;var p=n(t),d=String(this),h=c(p,RegExp),b=p.unicode,S=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(v?"y":"g"),k=new h(v?p:"^(?:"+p.source+")",S),D=void 0===a?g:a>>>0;if(0===D)return[];if(0===d.length)return null===u(k,d)?[d]:[];var x=0,m=0,w=[];while(m<d.length){k.lastIndex=v?m:0;var y,_=u(k,v?d:d.slice(m));if(null===_||(y=f(l(k.lastIndex+(v?0:m)),d.length))===x)m=s(d,m,b);else{if(w.push(d.slice(x,m)),w.length===D)return w;for(var C=1;C<=_.length-1;C++)if(w.push(_[C]),w.length===D)return w;m=x=y}}return w.push(d.slice(x)),w}]}),!v)},"14c3":function(t,e,r){var o=r("c6b6"),a=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var n=r.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"44e7":function(t,e,r){var o=r("861d"),a=r("c6b6"),n=r("b622"),i=n("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},"45fc":function(t,e,r){"use strict";var o=r("23e7"),a=r("b727").some,n=r("a640"),i=r("ae40"),c=n("some"),s=i("some");o({target:"Array",proto:!0,forced:!c||!s},{some:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,r){"use strict";var o=r("d784"),a=r("825a"),n=r("7b0b"),i=r("50c4"),c=r("a691"),s=r("1d80"),l=r("8aa5"),u=r("14c3"),p=Math.max,d=Math.min,h=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};o("replace",2,(function(t,e,r,o){var b=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=o.REPLACE_KEEPS_$0,k=b?"$":"$0";return[function(r,o){var a=s(this),n=void 0==r?void 0:r[t];return void 0!==n?n.call(r,a,o):e.call(String(a),r,o)},function(t,o){if(!b&&S||"string"===typeof o&&-1===o.indexOf(k)){var n=r(e,t,this,o);if(n.done)return n.value}var s=a(t),h=String(this),f="function"===typeof o;f||(o=String(o));var g=s.global;if(g){var x=s.unicode;s.lastIndex=0}var m=[];while(1){var w=u(s,h);if(null===w)break;if(m.push(w),!g)break;var y=String(w[0]);""===y&&(s.lastIndex=l(h,i(s.lastIndex),x))}for(var _="",C=0,E=0;E<m.length;E++){w=m[E];for(var O=String(w[0]),$=p(d(c(w.index),h.length),0),I=[],A=1;A<w.length;A++)I.push(v(w[A]));var P=w.groups;if(f){var R=[O].concat(I,$,h);void 0!==P&&R.push(P);var T=String(o.apply(void 0,R))}else T=D(O,h,$,I,P,o);$>=C&&(_+=h.slice(C,$)+T,C=$+O.length)}return _+h.slice(C)}];function D(t,r,o,a,i,c){var s=o+t.length,l=a.length,u=g;return void 0!==i&&(i=n(i),u=f),e.call(c,u,(function(e,n){var c;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,o);case"'":return r.slice(s);case"<":c=i[n.slice(1,-1)];break;default:var u=+n;if(0===u)return e;if(u>l){var p=h(u/10);return 0===p?e:p<=l?void 0===a[p-1]?n.charAt(1):a[p-1]+n.charAt(1):e}c=a[u-1]}return void 0===c?"":c}))}}))},"61b5":function(t,e,r){"use strict";r("c2a3")},6547:function(t,e,r){var o=r("a691"),a=r("1d80"),n=function(t){return function(e,r){var n,i,c=String(a(e)),s=o(r),l=c.length;return s<0||s>=l?t?"":void 0:(n=c.charCodeAt(s),n<55296||n>56319||s+1===l||(i=c.charCodeAt(s+1))<56320||i>57343?t?c.charAt(s):n:t?c.slice(s,s+2):i-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"8aa5":function(t,e,r){"use strict";var o=r("6547").charAt;t.exports=function(t,e,r){return e+(r?o(t,e).length:1)}},9263:function(t,e,r){"use strict";var o=r("ad6d"),a=r("9f7f"),n=RegExp.prototype.exec,i=String.prototype.replace,c=n,s=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],p=s||u||l;p&&(c=function(t){var e,r,a,c,p=this,d=l&&p.sticky,h=o.call(p),f=p.source,g=0,v=t;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),v=String(t).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==t[p.lastIndex-1])&&(f="(?: "+f+")",v=" "+v,g++),r=new RegExp("^(?:"+f+")",h)),u&&(r=new RegExp("^"+f+"$(?!\\s)",h)),s&&(e=p.lastIndex),a=n.call(d?r:p,v),d?a?(a.input=a.input.slice(g),a[0]=a[0].slice(g),a.index=p.lastIndex,p.lastIndex+=a[0].length):p.lastIndex=0:s&&a&&(p.lastIndex=p.global?a.index+a[0].length:e),u&&a&&a.length>1&&i.call(a[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),t.exports=c},"9f7f":function(t,e,r){"use strict";var o=r("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"9fc6":function(t,e,r){},ac1f:function(t,e,r){"use strict";var o=r("23e7"),a=r("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,r){"use strict";var o=r("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},c2a3:function(t,e,r){},c844:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return null!==t.bookDetailData?r("div",["txt"==t.bookDetailData.contentType?r("div",{staticClass:"read",style:{background:t.bgc.bg,color:t.bgc.color,height:t.isHeight?"100vh":"100%"},on:{click:t.CtrlHandler}},[t.content&&!t.content.isVip?r("div",t._l(t.textArr,(function(e,o){return r("div",{key:o+"a",staticClass:"text-list"},[r("h2",{style:{color:t.bgc.color}},[t._v(t._s(t.textArr[o].title))]),t._l(t.textArr[o].arr,(function(e,o){return r("p",{key:o,style:{fontSize:t.fontSize+"px",color:t.bgc.color,textIndent:2*t.fontSize+12+"px","letter-spacing":"5px"}},[t._v(" "+t._s(e.trim())+" ")])}))],2)})),0):t._e(),t.content&&t.content.isVip?r("div",{staticClass:"vipComponent"},[r("p",[t._v(t._s(t.content.title))]),r("p",[t._v("温罄提示")]),r("p",[t._v("由于格式问题,该书籍暂不提供网页阅读,扫描如下")]),r("p",[t._v("二维码打开APP进行阅读~")]),r("p",[t._v("如已安装,直接启动应用即可")]),r("img",{staticClass:"qrcode",attrs:{src:"//statics.zhuishushenqi.com/msite/qrcode2app.png"}})]):t._e(),t.isShowCtrl?r("div",{staticClass:"ctrl"},[r("div",{staticClass:"ctrl-header"},[r("van-nav-bar",{attrs:{title:t.bookDetailData.title,"left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":function(e){return t.$router.go(-1)}},scopedSlots:t._u([{key:"right",fn:function(){return[r("van-icon",{attrs:{name:"wap-nav",size:"20px",color:"#fff"}}),r("van-sidebar",[r("a",{on:{click:function(e){return e.preventDefault(),t.$router.push("/")}}},[r("i"),r("span",[t._v("首页")])]),r("a",{on:{click:function(e){return e.preventDefault(),t.$router.push("/bookrack")}}},[r("i"),r("span",[t._v("书架")])]),r("a",{on:{click:function(e){return e.preventDefault(),t.$router.push({path:"/detail",query:{id:t.$route.params.id}})}}},[r("i"),r("span",[t._v("详情")])])])]},proxy:!0}],null,!1,1675219204)})],1),r("div",{staticClass:"ctrl-foother"},[r("div",{staticClass:"myprogress"},[r("h3",{on:{click:function(e){e.stopPropagation(),0==t.fontSizeProgress?t.$toast("字体已经最小"):t.fontSize-=2,t.fontSizeProgress<=0?t.fontSizeProgress=0:t.fontSizeProgress-=20}}},[t._v(" Aa- ")]),r("van-progress",{attrs:{"stroke-width":"2px",color:"#b93221","track-color":"#ccc","show-pivot":!1,percentage:t.fontSizeProgress}}),r("h3",{on:{click:function(e){e.stopPropagation(),100==t.fontSizeProgress?t.$toast("字体已经最大"):t.fontSize+=2,t.fontSizeProgress>=100?t.fontSizeProgress=100:t.fontSizeProgress+=20}}},[t._v(" Aa+ ")])],1),r("div",{staticClass:"btn-change"},[r("van-button",{class:{active:t.a},attrs:{type:"primary",color:"transparent"},on:{click:function(e){e.stopPropagation(),t.a=!0,t.b=!1,t.c=!1,t.bgc={bg:"#EEE6DD",color:"#5C5D58"}}}},[t._v("默认")]),r("van-button",{class:{active:t.b},attrs:{type:"primary",color:"transparent"},on:{click:function(e){e.stopPropagation(),t.b=!0,t.a=!1,t.c=!1,t.bgc={bg:"#0C0C0C",color:"#666666"}}}},[t._v("夜间")]),r("van-button",{class:{active:t.c},attrs:{type:"primary",color:"transparent"},on:{click:function(e){e.stopPropagation(),t.c=!0,t.b=!1,t.a=!1,t.bgc={bg:"#B8CD8D",color:"#2F4E29"}}}},[t._v("护眼")])],1),r("div",{staticClass:"page"},[r("span",{style:{color:1==t.order?"#888":"#fff"},on:{click:function(e){e.preventDefault(),1!=t.order?(t.isShowBigLoading=!0,t.order=t.order-2,t.axiosGet(!0)):t.$toast("已经是第一章了~")}}},[t._v("上一章")]),r("span",{on:{click:function(e){t.isShowSidebar=!0}}},[t._v("目录")]),r("span",{style:{color:t.order==this.chapter.chapters.length?"#888":"#fff"},on:{click:function(e){e.preventDefault(),t.isShowBigLoading=!0,t.axiosGet(!0)}}},[t._v("下一章")])])])]):t._e(),r("div",{staticClass:"catalog"},[r("van-popup",{style:{width:"80%",height:"100%"},attrs:{position:"left",overlay:!0},on:{click:function(e){e.stopPropagation(),t.isShowSidebar=!0},"click-overlay":function(e){t.isShowSidebar=!1}},model:{value:t.isShowSidebar,callback:function(e){t.isShowSidebar=e},expression:"isShowSidebar"}},[r("div",{staticClass:"catalog-content",style:{marginTop:t.scrollY+"px"},on:{touchstart:t.touchStartH,touchmove:t.touchMoveH,touchend:t.touchEndH}},[r("p",{staticStyle:{color:"#333"}},[t._v(t._s(t.bookDetailData.title))]),r("p",[t._v("目录")]),r("ol",t._l(t.chapter.chapters,(function(e,o){return r("li",{key:e.id,class:{before:e.isVip},attrs:{id:t.order-1==o?"anchor":""},on:{click:function(e){e.stopPropagation(),t.isShowSidebar=!1,t.axiosGet(!0,o)}}},[r("span",{class:{activeC:t.order-1==o}},[t._v(t._s(o+1)+"-"+t._s(e.title))])])})),0)])])],1)]):t._e(),"picture"==t.bookDetailData.contentType?r("div",{staticClass:"read mypicture",on:{click:t.CtrlHandler}},[t.pictureData.isVip?r("div",{staticClass:"vipComponent"},[r("p",[t._v(t._s(t.pictureData.title))]),r("p",[t._v("温罄提示")]),r("p",[t._v("由于格式问题,该书籍暂不提供网页阅读,扫描如下")]),r("p",[t._v("二维码打开APP进行阅读~")]),r("p",[t._v("如已安装,直接启动应用即可")]),r("img",{staticClass:"qrcode",attrs:{src:"//statics.zhuishushenqi.com/msite/qrcode2app.png"}})]):r("Cartoon",{attrs:{pictureData:t.pictureData,pictureDataArray:t.pictureDataArray}}),t.isShowCtrl?r("div",{staticClass:"ctrl"},[r("div",{staticClass:"ctrl-header"},[r("van-nav-bar",{attrs:{title:t.bookDetailData.title,"left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":function(e){return t.$router.go(-1)}},scopedSlots:t._u([{key:"right",fn:function(){return[r("van-icon",{attrs:{name:"wap-nav",size:"20px",color:"#fff"}}),r("van-sidebar",[r("a",{on:{click:function(e){return e.preventDefault(),t.$router.push("/")}}},[r("i"),r("span",[t._v("首页")])]),r("a",{on:{click:function(e){return e.preventDefault(),t.$router.push("/bookrack")}}},[r("i"),r("span",[t._v("书架")])]),r("a",{on:{click:function(e){return e.preventDefault(),t.$router.push({path:"/detail",query:{id:t.$route.params.id}})}}},[r("i"),r("span",[t._v("详情")])])])]},proxy:!0}],null,!1,1675219204)})],1),r("div",{staticClass:"ctrl-foother ctrl-foother-picture"},[r("div",{staticClass:"page"},[r("span",{style:{color:1==t.order?"#888":"#fff"},on:{click:function(e){e.preventDefault(),1!=t.order?(t.isShowBigLoading=!0,t.order=t.order-2,t.axiosGet(!0)):t.$toast("已经是第一章了~")}}},[t._v("上一章")]),r("span",{on:{click:function(e){t.isShowSidebar=!0}}},[t._v("目录")]),r("span",{style:{color:t.order==this.chapter.chapters.length?"#888":"#fff"},on:{click:function(e){e.preventDefault(),t.isShowBigLoading=!0,t.axiosGet(!0)}}},[t._v("下一章")])])])]):t._e(),r("div",{staticClass:"catalog"},[r("van-popup",{style:{width:"80%",height:"100%"},attrs:{position:"left",overlay:!0},on:{click:function(e){e.stopPropagation(),t.isShowSidebar=!0},"click-overlay":function(e){t.isShowSidebar=!1}},model:{value:t.isShowSidebar,callback:function(e){t.isShowSidebar=e},expression:"isShowSidebar"}},[r("div",{staticClass:"catalog-content",style:{marginTop:t.scrollY+"px"},on:{touchstart:t.touchStartH,touchmove:t.touchMoveH,touchend:t.touchEndH}},[r("p",{staticStyle:{color:"#333"}},[t._v(t._s(t.bookDetailData.title))]),r("p",[t._v("目录")]),r("ol",t._l(t.chapter.chapters,(function(e,o){return r("li",{key:e.id,class:{before:e.isVip},attrs:{id:t.order-1==o?"anchor":""},on:{click:function(e){e.stopPropagation(),t.isShowSidebar=!1,t.axiosGet(!0,o)}}},[r("span",{class:{activeC:t.order-1==o}},[t._v(t._s(o+1)+"-"+t._s(e.title))])])})),0)])])],1)],1):t._e()]):t._e()},a=[],n=(r("4de4"),r("d81d"),r("45fc"),r("d3b7"),r("ac1f"),r("5319"),r("1276"),r("9911"),r("5530")),i=r("2f62"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.pictureDataArray.length?r("div",{staticClass:"cartoon"},t._l(t.pictureDataArray,(function(e,o){return r("div",{key:e.id+"parent"},t._l(t.pictureDataArray[o].images.split(","),(function(t){return r("img",{key:t,attrs:{src:t,alt:""}})})),0)})),0):t._e()},s=[],l={props:["pictureData","pictureDataArray"],computed:{}},u=l,p=(r("ce2b"),r("2877")),d=Object(p["a"])(u,c,s,!1,null,"567d5176",null),h=d.exports,f={components:{Cartoon:h},data:function(){return{content:null,textArr:[],bool:!1,order:1,flag:!0,isShowCtrl:!1,isShowSidebar:!1,fontSizeProgress:80,a:!0,b:!1,c:!1,isShowBigLoading:!1,fontSize:22,bgc:{bg:"#EEE6DD",color:"#5c5d58"},isVip:!1,isHeight:!1,scrollY:0,initialScrollY:0,pictureData:{},pictureDataArray:[]}},watch:{fontSizeProgress:function(t,e){0!=t&&100!=t&&(t>e?this.$toast("字体变大"):this.$toast("字体变小"))},order:function(t){var e=this,r=JSON.parse(window.localStorage.getItem("books"))||[];if(r.length){r=r.map((function(r){return r._id==e.$route.params.id?Object(n["a"])(Object(n["a"])({},r),{},{currentOrder:t}):r})),window.localStorage.setItem("books",JSON.stringify(r));var o=JSON.parse(window.localStorage.getItem("readBooks"))||[];o.length&&(o=o.map((function(r){return r._id==e.$route.params.id?Object(n["a"])(Object(n["a"])({},r),{},{currentOrder:t}):r})),window.localStorage.setItem("readBooks",JSON.stringify(o)))}}},computed:Object(n["a"])({},Object(i["b"])(["chapter","bookDetailData"])),created:function(){var t=this;this.bool=!0,this.isShowBigLoading=!0,this.flag=!1;var e={},r=this;function o(t){return new Promise((function(e,o){r.axios.get(t).then((function(t){e(t)})).catch((function(t){console.error(t),o(t)}))}))}o("http://novel.kele8.cn/book-info/"+this.$route.params.id).then((function(t){e=t.data})),o("http://novel.kele8.cn/book-sources?view=summary&book="+this.$route.params.id).then((function(t){return o("http://novel.kele8.cn/book-chapters/"+t.data[0]._id)})).then((function(r){t.$router.push("/book/"+t.$route.params.id),t.$store.commit("updateChapter",r.data),t.$store.commit("updateBookDetailData",e);var a=JSON.parse(window.localStorage.getItem("readBooks"))||[];if(null!=t.bookDetailData)if("txt"==t.bookDetailData.contentType||"epub"==t.bookDetailData.contentType)if(window.localStorage.getItem(t.$route.params.id)){t.content=JSON.parse(window.localStorage.getItem(t.$route.params.id)),t.order=t.content.order,t.scrollY=t.order<10?0:-41*(t.order+1)+246;var i=a.some((function(e){return e._id==t.bookDetailData._id}));i?(a=a.filter((function(e){return e._id!==t.bookDetailData._id})),a.unshift(Object(n["a"])(Object(n["a"])({},t.bookDetailData),{},{currentOrder:t.order}))):a.unshift(Object(n["a"])(Object(n["a"])({},t.bookDetailData),{},{currentOrder:t.order})),window.localStorage.setItem("readBooks",JSON.stringify(a)),t.textArr.push({arr:t.setStr(),title:t.content.title}),t.bool=!1,t.isShowBigLoading=!1,t.flag=!0}else o("http://novel.kele8.cn/chapters/"+encodeURIComponent(t.chapter.chapters[0].link)).then((function(e){t.content=e.data.chapter,window.localStorage.setItem(t.$route.params.id,JSON.stringify(e.data.chapter)),a.unshift(Object(n["a"])(Object(n["a"])({},t.bookDetailData),{},{currentOrder:t.order})),window.localStorage.setItem("readBooks",JSON.stringify(a)),t.textArr.push({arr:t.setStr(),title:t.content.title}),t.bool=!1,t.isShowBigLoading=!1,t.flag=!0}));else if("picture"==t.bookDetailData.contentType)if(window.localStorage.getItem(t.$route.params.id)){t.pictureData=JSON.parse(window.localStorage.getItem(t.$route.params.id)),t.order=t.chapter.chapters.filter((function(e){return t.pictureData.id==e.id}))[0].order;var c=a.some((function(e){return e._id==t.bookDetailData._id}));c?(a=a.filter((function(e){return e._id!=t.bookDetailData._id})),a.unshift(Object(n["a"])(Object(n["a"])({},t.bookDetailData),{},{currentOrder:t.order}))):a.unshift(Object(n["a"])(Object(n["a"])({},t.bookDetailData),{},{currentOrder:t.order})),window.localStorage.setItem("readBooks",JSON.stringify(a)),t.pictureDataArray.push(t.pictureData),t.bool=!1,t.isShowBigLoading=!1,t.flag=!0}else o("http://novel.kele8.cn/picture/"+encodeURIComponent(t.chapter.chapters[0].link)).then((function(e){t.pictureData=e.data.chapter,t.order=t.chapter.chapters.filter((function(e){return t.pictureData.id==e.id}))[0].order,t.pictureDataArray.push(t.pictureData),a.unshift(Object(n["a"])(Object(n["a"])({},t.bookDetailData),{},{currentOrder:t.order})),window.localStorage.setItem("readBooks",JSON.stringify(a)),window.localStorage.setItem(t.$route.params.id,JSON.stringify(e.data.chapter)),t.bool=!1,t.isShowBigLoading=!1,t.flag=!0}))}))},mounted:function(){var t=this;window.addEventListener("scroll",(function(){t.flag&&null!=t.bookDetailData&&window.scrollY+window.outerHeight+10>=document.documentElement.offsetHeight&&(t.flag=!1,setTimeout((function(){"txt"==t.bookDetailData.contentType||"epub"==t.bookDetailData.contentType?(t.bool=!0,t.axiosGet()):"picture"==t.bookDetailData.contentType&&(t.flag=!1,t.axiosGet())}),300))}),!1)},methods:{setStr:function(){var t=/\n/g;if(!t.test(this.content.cpContent))return this.order||(this.order=1),this.isHeight=!0,[this.content.body];this.isHeight=!1;var e=this.content.cpContent.replace(t,(function(t){return t="|",t}));return e.split("|")},axiosGet:function(t,e){var r=this,o=0;o=e>=0?e:this.order,console.log(!this.chapter.chapters[o]),this.chapter.chapters[o]?(this.bool=!0,null!=this.bookDetailData&&("txt"==this.bookDetailData.contentType||"epub"==this.bookDetailData.contentType?this.axios.get("http://novel.kele8.cn/chapters/"+encodeURIComponent(this.chapter.chapters[o].link)).then((function(e){t&&(r.textArr=[]),window.localStorage.setItem(r.$route.params.id,JSON.stringify(e.data.chapter)),r.content=e.data.chapter,r.order=r.content.order,r.isVip=r.content.isVip,r.textArr.push({arr:r.setStr(),title:r.content.title}),r.bool=!1,r.isShowBigLoading=!1,r.flag=!0})):"picture"==this.bookDetailData.contentType&&this.axios.get("http://novel.kele8.cn/picture/"+encodeURIComponent(this.chapter.chapters[o].link)).then((function(e){t&&(r.pictureDataArray=[]),window.localStorage.setItem(r.$route.params.id,JSON.stringify(e.data.chapter)),r.pictureDataArray.push(e.data.chapter),r.pictureData=e.data.chapter,r.order=r.chapter.chapters[o].order})))):this.$toast("已经到了最后一章~")},CtrlHandler:function(){this.isShowCtrl=!this.isShowCtrl},touchStartH:function(t){this.initialScrollY=t.touches[0].pageY-t.path[2].offsetTop},touchMoveH:function(t){this.scrollY=t.touches[0].pageY-this.initialScrollY,this.scrollY=this.scrollY>0?0:this.scrollY,246-this.scrollY>41*this.chapter.chapters.length&&(this.scrollY=41*-this.chapter.chapters.length+246),console.log(this.scrollY)},touchEndH:function(t){console.log(t)}}},g=f,v=(r("61b5"),Object(p["a"])(g,o,a,!1,null,null,null));e["default"]=v.exports},ce2b:function(t,e,r){"use strict";r("9fc6")},d784:function(t,e,r){"use strict";r("ac1f");var o=r("6eeb"),a=r("d039"),n=r("b622"),i=r("9263"),c=r("9112"),s=n("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),p=n("replace"),d=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),h=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,p){var f=n(t),g=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),v=g&&!a((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!g||!v||"replace"===t&&(!l||!u||d)||"split"===t&&!h){var b=/./[f],S=r(f,""[t],(function(t,e,r,o,a){return e.exec===i?g&&!a?{done:!0,value:b.call(e,r,o)}:{done:!0,value:t.call(r,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),k=S[0],D=S[1];o(String.prototype,t,k),o(RegExp.prototype,f,2==e?function(t,e){return D.call(t,this,e)}:function(t){return D.call(t,this)})}p&&c(RegExp.prototype[f],"sham",!0)}},d81d:function(t,e,r){"use strict";var o=r("23e7"),a=r("b727").map,n=r("1dde"),i=r("ae40"),c=n("map"),s=i("map");o({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=Read.da9c6645.js.map